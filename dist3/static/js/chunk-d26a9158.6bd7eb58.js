(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d26a9158"],{"0003":function(e,t,a){},"73cf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"topBox"},[a("span",[e._v("注册")]),a("div",{staticClass:"back",on:{click:e.goback}},[a("span",{staticClass:"iconfont icon-ico_leftarrow"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.logType,expression:"logType == 1"}],staticClass:"content"},[a("div",{staticClass:"phoneNum"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNum,expression:"phoneNum"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.phoneNum},on:{input:function(t){t.target.composing||(e.phoneNum=t.target.value)}}})]),a("div",{staticClass:"verify"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd1,expression:"pwd1"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.pwd1},on:{input:function(t){t.target.composing||(e.pwd1=t.target.value)}}}),a("div",{staticClass:"code",on:{click:e.getCode}},[e._v(e._s(e.code))])]),a("div",{staticClass:"verify"},["checkbox"===e.pwdType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd2,expression:"pwd2"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.pwd2)?e._i(e.pwd2,null)>-1:e.pwd2},on:{change:function(t){var a=e.pwd2,n=t.target,o=!!n.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);n.checked?i<0&&(e.pwd2=a.concat([s])):i>-1&&(e.pwd2=a.slice(0,i).concat(a.slice(i+1)))}else e.pwd2=o}}}):"radio"===e.pwdType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd2,expression:"pwd2"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:e._q(e.pwd2,null)},on:{change:function(t){e.pwd2=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd2,expression:"pwd2"}],attrs:{placeholder:"请输入密码",type:e.pwdType},domProps:{value:e.pwd2},on:{input:function(t){t.target.composing||(e.pwd2=t.target.value)}}}),a("div",{staticClass:"yanjing",on:{click:e.changepwd}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.showpwd,expression:"!showpwd"}],staticClass:"iconfont icon-biyan"}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showpwd,expression:"showpwd"}],staticClass:"iconfont icon-yanjing"})])]),a("div",{staticClass:"verify"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sign,expression:"sign"}],attrs:{type:"text",placeholder:"潮流口令(非必填)"},domProps:{value:e.sign},on:{input:function(t){t.target.composing||(e.sign=t.target.value)}}})]),a("div",{staticClass:"subBtn",on:{click:e.check}},[e._v("注册")]),e._m(0),e._m(1)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"changeType"},[a("span",[e._v("注册即表示您已阅读并同意")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"watch"},[a("a",{attrs:{href:"/service/qaDetail?keyword=服务条款&sonId=340&parentId=250",target:"_blank"}},[e._v("有货用户服务协议")]),a("a",{attrs:{href:"/service/qaDetail?keyword=隐私条款&sonId=352&parentId=250",target:"_blank"}},[e._v("有货隐私条款")])])}],s=a("5530"),i=a("d399"),c=a("b846"),r=a("2f62"),d={data:function(){return{logType:1,phoneNum:"",pwd1:"",pwd2:"",code:"",showpwd:!1,pwdType:"password",sign:""}},created:function(){this.changeNavFlag(!1)},mounted:function(){this.getCode()},beforeRouteLeave:function(e,t,a){this.changeNavFlag(!0),a()},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["changeNavFlag"])),{},{check:function(){var e=this,t=/^1[2-9][0-9]{9}$/,a=/^[0-9a-zA-Z]{4,12}$/;if(!t.test(this.phoneNum))return i["a"].fail("请输入正确的手机号"),!1;c["a"].check({userPhone:this.phoneNum}).then((function(t){return t.data.length?(console.log(111),i["a"].fail("该手机号已被注册"),!1):e.pwd1.toLowerCase()!=e.code.toLowerCase()?(i["a"].fail("验证码错误"),!1):void(a.test(e.pwd2)?c["a"].add({userPhone:e.phoneNum,userPwd:e.pwd2,userSign:e.sign}).then((function(t){return e.$router.push({name:"login"}),!1})).catch((function(e){throw flag=!1,e})):i["a"].fail("密码由4~12位数字字母组成"))}))},goback:function(){this.$router.history.go(-1)},getCode:function(){this.code="";for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=0;t<4;t++){var a=Math.floor(Math.random()*e.length);this.code+=e.charAt(a)}},changepwd:function(){this.showpwd?(this.showpwd=!1,this.pwdType="password"):(this.showpwd=!0,this.pwdType="text")},changeType:function(e){this.logType=e}})},p=d,l=(a("e1cc"),a("2877")),u=Object(l["a"])(p,n,o,!1,null,"4022d3aa",null);t["default"]=u.exports},b846:function(e,t,a){"use strict";var n=a("ce0d"),o={check:function(e){return Object(n["a"])({method:"get",url:"/self/userinfos",params:e})},add:function(e){return Object(n["a"])({method:"post",url:"/self/userinfos",data:e})},update:function(e,t){return Object(n["a"])({method:"patch",url:"/self/userinfos/"+e,data:t})}};t["a"]=o},e1cc:function(e,t,a){"use strict";a("0003")}}]);
//# sourceMappingURL=chunk-d26a9158.6bd7eb58.js.map